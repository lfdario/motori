---
import Base from "@/layouts/Base.astro";
const { title, description, author = "Redazione", pubDate, cover, categories = [], tags = [] } = Astro.props;
const normalizedCover = (cover || `${import.meta.env.BASE_URL}images/placeholder.jpg`).replace("/site-automation-pro/", import.meta.env.BASE_URL);
---
<Base title={title + " • Motori"} description={description}>
  <article class="max-w-3xl mx-auto">
    {normalizedCover && (<img src={normalizedCover} alt={title} class="w-full h-64 md:h-80 object-cover rounded-2xl border mb-6"/>)}
    <header class="mb-6">
      <div class="text-[11px] uppercase tracking-wide text-blue-600 mb-2">{categories.join(" • ") || "Articolo"}</div>
      <h1 class="text-3xl md:text-4xl font-extrabold leading-tight mb-2">{title}</h1>
      <div class="text-sm text-gray-500 flex flex-wrap gap-2"><span>di {author}</span> • <time datetime={pubDate}>{new Date(pubDate).toLocaleDateString("it-IT")}</time></div>
    </header>
    <div class="prose prose-neutral dark:prose-invert max-w-none"><slot /></div>
    {tags.length > 0 && (<footer class="mt-10 text-sm text-gray-500"><div class="flex flex-wrap gap-2">{tags.map(t => <span class="px-2 py-1 rounded-full border">{t}</span>)}</div></footer>)}
  </article>
</Base>
