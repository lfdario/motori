---
const { href, cover, title, excerpt, category, date } = Astro.props;

// Copertura: se il front-matter usa ancora /site-automation-pro/, normalizziamo a /motori/
const normalizedCover = (cover || "/motori/images/placeholder.jpg")
  .replace("/site-automation-pro/", "/motori/");
---
<article class="group grid md:grid-cols-[220px,1fr] gap-4 p-3 rounded-2xl border bg-white/70 dark:bg-gray-900/70 hover:shadow-md transition-shadow">
  <a href={href} class="block overflow-hidden rounded-xl">
    <img src={normalizedCover} alt={title} loading="lazy" class="w-full h-[140px] object-cover group-hover:scale-[1.02] transition-transform"/>
  </a>
  <div class="space-y-1">
    <div class="text-[11px] uppercase tracking-wide text-blue-600">{category}</div>
    <h3 class="text-lg font-semibold leading-tight">
      <a href={href} class="hover:underline">{title}</a>
    </h3>
    <p class="text-sm text-gray-600 dark:text-gray-300 line-clamp-2">{excerpt}</p>
    <time class="text-xs text-gray-500">{date}</time>
  </div>
</article>
